import React, { useEffect, useState } from "react";

const FluidSLoader: React.FC = () => {
  const [rotation, setRotation] = useState(0);

  useEffect(() => {
    const interval = setInterval(() => {
      setRotation((prev) => (prev + 90) % 360);
    }, 2000); // Adjust speed if needed

    return () => clearInterval(interval);
  }, []);

  return (
    <div className="relative w-32 h-32 flex items-center justify-center">
      {/* Fluid Background */}
      <div
        className="absolute w-full h-full bg-blue-500 transition-all duration-700"
        style={{
          clipPath: `url(#s-mask)`,
          transform: `rotate(${rotation}deg)`,
        }}
      ></div>

      {/* SVG Mask */}
      <svg width="0" height="0">
        <defs>
          <clipPath id="s-mask" clipPathUnits="objectBoundingBox">
            <path
              d="M0.05,0.25 C0.02,0.35, 0.01,0.45, 0.01,0.55 C0.01,0.65, 0.03,0.75, 0.08,0.85 C0.13,0.95, 0.2,1, 0.3,1
              C0.4,1, 0.5,0.98, 0.57,0.93 C0.64,0.88, 0.75,0.73, 0.75,0.73 C0.75,0.73, 0.76,0.71, 0.77,0.69 C0.78,0.67, 0.79,0.65, 0.8,0.63 
              C0.81,0.61, 0.82,0.59, 0.83,0.57 C0.84,0.55, 0.85,0.54, 0.85,0.53 C0.89,0.47, 0.92,0.43, 0.96,0.4 C1,0.38, 1,0.32, 1,0.3
              C1,0.2, 0.98,0.12, 0.93,0.05 C0.89,0, 0.83,-0.02, 0.75,-0.02 C0.65,-0.02, 0.55,0, 0.45,0.05 C0.35,0.1, 0.3,0.15, 0.25,0.2
              C0.24,0.22, 0.22,0.24, 0.2,0.26 C0.18,0.28, 0.16,0.3, 0.15,0.32 C0.13,0.34, 0.12,0.36, 0.1,0.38 C0.06,0.46, 0.05,0.47, 0.05,0.48 Z"
              fill="black"
            />
          </clipPath>
        </defs>
      </svg>

      {/* "S" Outline */}
      <svg
        className="absolute"
        width="183"
        height="103"
        viewBox="0 0 183 103"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M8.5 28.17C4.07 35.73 1.93 43.95 2.08 52.82C2.23 61.86 4.57 70.04 9.08 77.37C13.6 84.71 19.69 90.55 27.33 94.9C34.97 99.17 43.56 101.22 53.08 101.06C62.93 100.9 71.19 98.32 77.86 93.32C84.54 88.4 94.63 73.38 94.63 73.38C94.63 73.38 95.57 71.45 96.75 69.07C98.02 66.68 99.4 64.02 100.89 61.06C102.47 58.18 103.9 55.55 105.16 53.17C106.42 50.79 107.21 49.27 107.52 48.61C110.76 42.37 114.19 38.04 117.81 35.62C121.43 33.28 125.97 32.06 131.43 31.97C136.8 31.88 141.47 33.63 145.44 37.23C149.41 40.83 151.43 45.19 151.52 50.32C151.6 55.37 149.84 59.75 146.24 63.48C142.64 67.2 137.91 69.11 132.05 69.21L111.54 69.8C110.89 69.81 110.57 70.14 110.58 70.79L111.05 98.87C111.06 99.52 111.4 99.84 112.05 99.83L132.56 99.49C141.76 99.33 150.02 96.96 157.35 92.35C164.68 87.84 170.53 81.83 174.88 74.35C179.15 66.87 181.21 58.7 181.06 49.82C180.92 41.2 178.59 33.22 174.07 25.88C169.63 18.63 163.67 12.79 156.19 8.35C148.62 3.92 140.2 1.78 130.92 1.94C120.83 2.11 111.75 4.46 103.69 8.99C95.7 13.6 89.1 20.51 83.88 29.71C82.54 32.26 81.12 34.89 79.62 37.6C78.2 40.31 76.74 43.1 75.24 45.98C73.74 48.85 72.4 51.32 71.21 53.37C70.11 55.51 69.16 57.24 68.37 58.55C63.94 66.6 58.68 70.68 52.57 70.78C47.28 70.87 42.57 69.12 38.44 65.52C34.39 61.93 32.32 57.53 32.23 52.32C32.15 47.19 34.03 42.76 37.87 39.03C41.8 35.3 46.49 33.39 51.94 33.3L63.42 33.11C64.32 33.1 64.76 32.76 64.75 32.11L64.28 4.03C64.26 3.22 63.81 2.82 62.91 2.83L51.44 3.02C42.32 3.18 33.97 5.51 26.4 10.04C18.9 14.64 12.94 20.68 8.5 28.17Z"
          stroke="#66D9CC"
          strokeWidth="3"
        />
      </svg>
    </div>
  );
};

export default FluidSLoader;
